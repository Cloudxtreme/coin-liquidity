<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Liquidity Data</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="/themes/blue/style.css" type="text/css" id="" media="print, projection, screen"/>
    <script type="text/javascript" src="/jquery-latest.js"></script>
    <script type="text/javascript" src="/jquery.tablesorter.min.js"></script>
    <script type="text/javascript" id="js">
    jQuery.tablesorter.addParser({
        id: "fancyNumber",
        is: function(s) {
            return /^[0-9]?[0-9,\.]*$/.test(s);
        },
        format: function(s) {
            return jQuery.tablesorter.formatFloat( s.replace(/,/g,'') );
        },
        type: "numeric"
    });
    $(document).ready(function() {
        $("table").tablesorter({
            sortList: [[2,0]]
        });
     });

    </script>
</head>
<body>
<h1>Liquidity Data</h1>
<table class="tablesorter">
    <thead>
    <tr>
        <th>Exchange</th>
        <th>Pair</th>
        <th th:text="'Cost to Sell ' + ${#numbers.formatDecimal(liquidityData.amount, 0, 'COMMA', 0, 'POINT')} + ' USD (%)'">
            Cost to Sell
        </th>
        <th th:text="'Cost to Buy ' + ${#numbers.formatDecimal(liquidityData.amount, 0, 'COMMA', 0, 'POINT')} + ' USD (%)'">
            Cost to Buy
        </th>
        <th>Best Bid</th>
        <th>Best Ask</th>
        <th>Total Bids (USD)</th>
        <th>Total Asks (base)</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="datum : ${liquidityData.liquidityData}">
        <td th:text="${datum.exchange}">GDAX</td>
        <td th:text="${datum.currencyPair}">BTC/USD</td>
        <td th:text="${datum.sellCost}">1.23</td>
        <td th:text="${datum.buyCost}">1.55</td>
        <td th:text="${datum.bestBid}">100.42</td>
        <td th:text="${datum.bestAsk}">100.43</td>
        <td th:text="${#numbers.formatDecimal(datum.totalBids, 0, 'COMMA', 0, 'POINT')}">3500</td>
        <td th:text="${#numbers.formatDecimal(datum.totalAsks, 0, 'COMMA', 0, 'POINT')}">1234</td>
    </tr>
    </tbody>
</table>

<p th:text="'Last updated on ' + ${liquidityData.updateTime}"></p>

</body>
</html>